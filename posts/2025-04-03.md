---
title: Leetcode 2874.Maximum Value of an Ordered Triplet II
date: 2025-04-03
tags: [Array]
type: leetcode
---

You are given a 0-indexed integer array nums.

Return the maximum value over all triplets of indices (i, j, k) such that i < j < k. If all such triplets have a negative value, return 0.

The value of a triplet of indices (i, j, k) is equal to (nums[i] - nums[j]) * nums[k].

---

Solution

```C++
class Solution {
public:
    long long maximumTripletValue(vector<int>& nums) {
        long long ret = 0, curr_max_i = 0, curr_max_sub = 0;

        for (int k = 0; k < nums.size(); k++) {
            ret = max(ret, curr_max_sub * nums[k]);
            curr_max_sub = max(curr_max_sub, curr_max_i - nums[k]);
            curr_max_i = max(curr_max_i, static_cast<long long>(nums[k]));
        }

        return ret;
    }
};
```